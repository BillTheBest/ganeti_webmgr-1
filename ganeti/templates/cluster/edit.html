{% extends "base.html" %}

{% block title %}
{% if cluster %}
Edit {{ cluster.slug }}
{% else %}
Add a new cluster
{% endif %}
{% endblock %}

{% block content %}

{% if cluster %}
<h1>Edit Cluster</h1>
{% else %}
<h1>Add Cluster</h1>
{% endif %}

<form method="post">
    {% csrf_token %}
    <fieldset>
        {% if form.hostname.errors %}<p class="error">{{form.hostname.errors}}</p>{%endif%}
        <p><label for="id_hostname" class="required">{{form.hostname.label}}:</label> {{form.hostname}}</p>
        {% if cluster %}
        {% if form.slug.errors %}<p class="error">{{form.slug.errors}}</p>{%endif%}
        <p><label for="id_slug" class="required">{{form.slug.label}}:</label> {{form.slug}}</p>
        {% endif %}
        {% if form.port.errors %}<p class="error">{{form.port.errors}}</p>{%endif%}
        <p><label for="id_port" class="required">{{form.port.label}}:</label> {{form.port}}</p>
        {% if form.description.errors %}<p class="error">{{form.description.errors}}</p>{%endif%}
        <p><label for="id_description">{{form.description.label}}:</label> {{form.description}}</p>
        {% if form.username.errors %}<p class="error">{{form.username.errors}}</p>{%endif%}
        <p><label for="id_username">{{form.username.label}}:</label> {{form.username}}</p>
        {% if form.password.errors %}<p class="error">{{form.password.errors}}</p>{%endif%}
        <p><label for="id_password">{{form.password.label}}:</label> {{form.password}}</p>
        {% if form.confirm_password.errors %}<p class="error">{{form.confirm_password.errors}}</p>{%endif%}
        <p><label for="id_confirm_password">{{form.confirm_password.label}}:</label> {{form.confirm_password}}</p>
    </fieldset>
    
    <fieldset>
        <legend>Default Quota</legend>
        {% if form.virtual_cpus.errors %}<p class="error">{{form.hostname.errors}}</p>{%endif%}
        <p><label for="id_virtual_cpus">{{form.virtual_cpus.label}}:</label> {{form.virtual_cpus}}</p>
        {% if form.disk.errors %}<p class="error">{{form.hostname.errors}}</p>{%endif%}
        <p><label for="id_disk">{{form.disk.label}}:</label> {{form.disk}}</p>
        {% if form.ram.errors %}<p class="error">{{form.hostname.errors}}</p>{%endif%}
        <p><label for="id_ram">{{form.ram.label}}:</label> {{form.ram}}</p>
    </fieldset>
    
    {% if cluster %}
    <input class="submit" type="submit" value="Save">
    {% else %}
    <input class="submit" type="submit" value="Add">
    {% endif %}
</form>
{% endblock %}
